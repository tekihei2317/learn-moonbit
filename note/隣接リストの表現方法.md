# 隣接リストの表現方法

ノードIDが整数の場合は2次元配列で良いと思います。

今回はノードが文字列だったのでどうすればいいか悩んでます。

- Mapを使う
  - 存在しないキーをmap[key]のようにアクセスしたら、実行時エラーになるので注意が必要
- @hashmapを使う
  - 他にも@sorted_mapもある
- @immut/hashmapを使う

Mapは色々あって、どれ使えばいいかちょっとわかってないです。APIは似た感じで`get` / `set` / `contains`あたりが使えればなんとかなるでしょうか。

```mbt
type Graph = Map[String, Array[String]]

///|
test "use map" {
  let graph : Graph = {}
  let from = "a"
  for to in ["b", "c", "d"] {
    match graph.get(from) {
      None => graph.set(from, [to])
      Some(edges) => edges.push(to)
    }
  }
  inspect(
    graph,
    content=(
      #|{"a": ["b", "c", "d"]}
    ),
  )
  inspect(
    graph["a"],
    content=(
      #|["b", "c", "d"]
    ),
  )
  inspect(
    graph.get("a"),
    content=(
      #|Some(["b", "c", "d"])
    ),
  )
}
```

`get`使わずに添え字でもアクセスできますが、キーが存在しないときに、コンパイルエラーにならず実行時エラーになるので注意が必要です。
